[
  {
    "namespace": "calToolbar",
    "description": "Injects a simple button into the Calendar Event dialog.",
    "functions": [
      {
        "name": "init",
        "type": "function",
        "async": true,
        "parameters": [
          {
            "name": "options",
            "type": "object",
            "optional": true,
            "properties": {
              "label": {
                "type": "string",
                "optional": true
              },
              "tooltip": {
                "type": "string",
                "optional": true
              }
            }
          }
        ],
        "returns": {
          "type": "boolean"
        }
      },
      {
        "name": "invokeWindow",
        "type": "function",
        "description": "Executes a specific action inside a tracked calendar window.",
        "async": true,
        "parameters": [
          {
            "name": "options",
            "type": "object",
            "properties": {
              "windowId": {
                "type": "integer"
              },
              "action": {
                "type": "string"
              },
              "payload": {
                "type": "object",
                "optional": true,
                "additionalProperties": true
              }
            }
          }
        ],
        "returns": {
          "type": "object"
        }
      }
    ],
    "events": [
      {
        "name": "onCreateRequest",
        "type": "function",
        "description": "Fired when the user requests a new Nextcloud Talk room.",
        "parameters": [
          {
            "name": "details",
            "type": "object",
            "optional": true,
            "properties": {
              "title": {
                "type": "string",
                "optional": true
              },
              "password": {
                "type": "string",
                "optional": true
              },
              "enableLobby": {
                "type": "boolean",
                "optional": true
              }
            }
          }
        ]
      },
      {
        "name": "onLobbyUpdate",
        "type": "function",
        "description": "Fired when the startzeit of a room changes and the lobby timer must be updated.",
        "parameters": [
          {
            "name": "details",
            "type": "object",
            "properties": {
              "token": {
                "type": "string"
              },
              "enableLobby": {
                "type": "boolean",
                "optional": true
              },
              "startTimestamp": {
                "type": "integer",
                "optional": true
              }
            }
          }
        ]
      },
      {
        "name": "onUtilityRequest",
        "type": "function",
        "description": "General purpose handler for config and lookup requests.",
        "parameters": [
          {
            "name": "details",
            "type": "object",
            "optional": true
          }
        ]
      }
    ]
  }
]
